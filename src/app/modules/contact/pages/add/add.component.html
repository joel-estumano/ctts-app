<app-section>
	<h1 class="text-center f2">Criar Contato</h1>
	<form
		[formGroup]="contactForm"
		(ngSubmit)="onSubmit()"
		class="relative flex flex-col w-full gap-4 p-8 mx-auto border md:w-1/2 xl:w-1/3 border-gray rounded-2xl"
	>
		<div>
			<label for="nome">Nome</label>
			<input
				type="text"
				id="nome"
				formControlName="nome"
				[ngClass]="formUtils.invalidClass(formUtils.getControl(contactForm, 'nome'), this.isSubmited)"
			/>
			@if (formUtils.getControl(contactForm, "nome").touched && formUtils.getControl(contactForm, "nome").invalid && this.isSubmited) {
				<div class="text-xs">Nome é obrigatório.</div>
			}
		</div>
		<div>
			<label for="email">Email</label>
			<input
				type="email"
				id="email"
				formControlName="email"
				[ngClass]="formUtils.invalidClass(formUtils.getControl(contactForm, 'email'), this.isSubmited)"
			/>
			@if (formUtils.getControl(contactForm, "email").touched && formUtils.getControl(contactForm, "email").invalid && this.isSubmited) {
				<div class="text-xs">Informe um email válido.</div>
			}
		</div>
		<div>
			<label for="celular">Celular</label>
			<input
				type="text"
				id="celular"
				formControlName="celular"
				[ngClass]="formUtils.invalidClass(formUtils.getControl(contactForm, 'celular'), this.isSubmited)"
			/>
			@if (formUtils.getControl(contactForm, "celular").touched && formUtils.getControl(contactForm, "celular").invalid && this.isSubmited) {
				<div class="text-xs">Celular é obrigatório.</div>
			}
		</div>
		<div>
			<label for="telefone">Telefone</label>
			<input
				type="text"
				id="telefone"
				formControlName="telefone"
				[ngClass]="formUtils.invalidClass(formUtils.getControl(contactForm, 'telefone'), this.isSubmited)"
			/>
			@if (formUtils.getControl(contactForm, "telefone").touched && formUtils.getControl(contactForm, "telefone").invalid && this.isSubmited) {
				<div class="text-xs">Telefone é obrigatório.</div>
			}
		</div>
		<button type="submit" class="btn-white mt-3" title="Criar Contato">
			{{ this.isLoading ? "Criando o Contato..." : "Criar Contato" }}
		</button>
	</form>
</app-section>
