<app-section>
	<h1 class="text-center f2">Criar Conta</h1>
	<form
		[formGroup]="registerForm"
		(ngSubmit)="onSubmit()"
		class="relative flex flex-col w-full gap-4 p-8 mx-auto border md:w-1/2 xl:w-1/3 border-gray rounded-2xl"
	>
		<div>
			<label for="name">Nome</label>
			<input
				type="text"
				id="name"
				formControlName="name"
				[ngClass]="formUtils.invalidClass(formUtils.getControl(registerForm, 'name'), this.isSubmited)"
			/>
			@if (formUtils.getControl(registerForm, "name").touched && formUtils.getControl(registerForm, "name").invalid && this.isSubmited) {
				<div class="text-xs">Nome é obrigatório.</div>
			}
		</div>
		<div>
			<label for="email">Email</label>
			<input
				type="email"
				id="email"
				formControlName="email"
				[ngClass]="formUtils.invalidClass(formUtils.getControl(registerForm, 'email'), this.isSubmited)"
			/>
			@if (formUtils.getControl(registerForm, "email").touched && formUtils.getControl(registerForm, "email").invalid && this.isSubmited) {
				<div class="text-xs">Informe um email válido.</div>
			}
		</div>
		<div>
			<label for="password">Senha</label>
			<input
				type="password"
				id="password"
				formControlName="password"
				[ngClass]="formUtils.invalidClass(formUtils.getControl(registerForm, 'password'), this.isSubmited)"
			/>
			@if (formUtils.getControl(registerForm, "password").touched && formUtils.getControl(registerForm, "password").invalid && this.isSubmited) {
				<div class="text-xs">Senha é obrigatória.</div>
			}
		</div>
		<button type="submit" class="mt-3 btn-white" title="Criar Conta">
			{{ this.isLoading ? "Criando a Conta..." : "Criar Conta" }}
		</button>
	</form>
	<p class="flex justify-center gap-1">
		Já tem uma conta?
		<a routerLink="/login" title="Login">Faça login</a>
	</p>
</app-section>
